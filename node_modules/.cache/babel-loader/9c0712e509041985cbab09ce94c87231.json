{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useDispatch } from \"react-redux\";\nimport { BASE_URL } from \"../Api/api\";\nimport { login, notLogin } from \"../App/features/adminAuthSlice\";\n\nconst useAdminAuth = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const adminDataLocalStrg = localStorage.getItem(\"adminAuthData\");\n\n  if (adminDataLocalStrg) {\n    const adminData = JSON.parse(adminDataLocalStrg);\n    const {\n      email,\n      password\n    } = adminData;\n    fetch(`${BASE_URL}/users`).then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      } else {\n        return res.json();\n      }\n    }).then(data => {\n      const userInfo = data.find(info => info.email === email && info.password === password && info.status === 'active');\n\n      if (userInfo) {\n        dispatch(login(userInfo));\n      } else {\n        dispatch(notLogin());\n      }\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n        dispatch(notLogin());\n      }\n    });\n  } else {\n    dispatch(notLogin());\n  }\n};\n\n_s(useAdminAuth, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\nexport default useAdminAuth;","map":{"version":3,"names":["useDispatch","BASE_URL","login","notLogin","useAdminAuth","dispatch","adminDataLocalStrg","localStorage","getItem","adminData","JSON","parse","email","password","fetch","then","res","ok","Error","status","json","data","userInfo","find","info","catch","err","console","log"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder (2)/New folder/src/Auth/useAdminAuth.js"],"sourcesContent":["import { useDispatch } from \"react-redux\";\nimport { BASE_URL } from \"../Api/api\";\nimport { login, notLogin } from \"../App/features/adminAuthSlice\";\n\nconst useAdminAuth = () => {\n\n    const dispatch = useDispatch()\n\n    const adminDataLocalStrg = localStorage.getItem(\"adminAuthData\");\n\n    if (adminDataLocalStrg) {\n    const adminData = JSON.parse(adminDataLocalStrg);\n    const { email, password } = adminData;\n\n    fetch(`${BASE_URL}/users`)\n        .then((res) => {\n            if (!res.ok) {\n                throw new Error(res.status);\n            } else {\n                return res.json();\n            }\n        })\n        .then((data) => {\n            const userInfo = data.find((info) => info.email === email && info.password === password && info.status === 'active' );\n\n            if (userInfo) {\n                dispatch(login(userInfo));\n            } else {\n                dispatch(notLogin())\n            }\n        })\n        .catch((err) => {\n            if(err){\n                console.log(err);\n                dispatch(notLogin())\n            }\n        });\n    } else {\n        dispatch(notLogin())\n    }\n};\n\nexport default useAdminAuth;\n"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,gCAAhC;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EAEvB,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;EAEA,MAAMM,kBAAkB,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAA3B;;EAEA,IAAIF,kBAAJ,EAAwB;IACxB,MAAMG,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,kBAAX,CAAlB;IACA,MAAM;MAAEM,KAAF;MAASC;IAAT,IAAsBJ,SAA5B;IAEAK,KAAK,CAAE,GAAEb,QAAS,QAAb,CAAL,CACKc,IADL,CACWC,GAAD,IAAS;MACX,IAAI,CAACA,GAAG,CAACC,EAAT,EAAa;QACT,MAAM,IAAIC,KAAJ,CAAUF,GAAG,CAACG,MAAd,CAAN;MACH,CAFD,MAEO;QACH,OAAOH,GAAG,CAACI,IAAJ,EAAP;MACH;IACJ,CAPL,EAQKL,IARL,CAQWM,IAAD,IAAU;MACZ,MAAMC,QAAQ,GAAGD,IAAI,CAACE,IAAL,CAAWC,IAAD,IAAUA,IAAI,CAACZ,KAAL,KAAeA,KAAf,IAAwBY,IAAI,CAACX,QAAL,KAAkBA,QAA1C,IAAsDW,IAAI,CAACL,MAAL,KAAgB,QAA1F,CAAjB;;MAEA,IAAIG,QAAJ,EAAc;QACVjB,QAAQ,CAACH,KAAK,CAACoB,QAAD,CAAN,CAAR;MACH,CAFD,MAEO;QACHjB,QAAQ,CAACF,QAAQ,EAAT,CAAR;MACH;IACJ,CAhBL,EAiBKsB,KAjBL,CAiBYC,GAAD,IAAS;MACZ,IAAGA,GAAH,EAAO;QACHC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACArB,QAAQ,CAACF,QAAQ,EAAT,CAAR;MACH;IACJ,CAtBL;EAuBC,CA3BD,MA2BO;IACHE,QAAQ,CAACF,QAAQ,EAAT,CAAR;EACH;AACJ,CApCD;;GAAMC,Y;UAEeJ,W;;;AAoCrB,eAAeI,YAAf"},"metadata":{},"sourceType":"module"}