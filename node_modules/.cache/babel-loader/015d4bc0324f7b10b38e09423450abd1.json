{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\New folder\\\\New folder\\\\src\\\\Components\\\\Admin\\\\Coupon\\\\EditCoupon.js\",\n    _s = $RefreshSig$();\n\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport React from 'react';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { updateCoupon } from '../../../App/features/couponSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditCoupon = _ref => {\n  _s();\n\n  let {\n    setIsEdit,\n    editData,\n    coupon\n  } = _ref;\n  const dispatch = useDispatch();\n  const [couponData, setCoupon] = useState({\n    id: editData.id,\n    coupon: editData.coupon,\n    discount: editData.discount,\n    status: editData.status\n  });\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setCoupon(prev => ({ ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const alreadyExists = coupon.find(coup => coup.coupon === couponData.coupon && coup.id !== couponData.id);\n\n    if (alreadyExists) {\n      toast.dismiss();\n      toast.error('coupon already exists');\n    } else if (couponData.discount < 1 || couponData.discount > 99) {\n      toast.dismiss();\n      toast.error('percent range should be 1 to 99');\n    } else {\n      const id = couponData.id;\n      const updateData = {\n        coupon: couponData.coupon,\n        discount: Number(couponData.discount),\n        status: couponData.status\n      };\n      dispatch(updateCoupon({\n        id,\n        updateData\n      })).unwrap(unwrapResult).then(res => {\n        if (res.status) {\n          setIsEdit(false);\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card  my-5 mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header py-1 \",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"fw-bold\",\n          children: \"Edit Coupon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: 'row row-cols-lg-auto g-3 align-items-end justify-content-center',\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"coupon\",\n              className: \"form-label fw-bold\",\n              children: \"Coupon :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"coupon\",\n              className: \"form-control\",\n              placeholder: \"enter coupon name\",\n              name: \"coupon\",\n              value: couponData.coupon,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"coupon\",\n              className: \"form-label fw-bold\",\n              children: \"Discount :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"coupon\",\n              className: \"form-control\",\n              placeholder: \"enter discount percent\",\n              name: \"discount\",\n              value: couponData.discount,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label fw-bold\",\n              htmlFor: \"status\",\n              children: \"Status :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              id: \"status\",\n              value: couponData.status,\n              name: \"status\",\n              onChange: handleChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- Select Status --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"active\",\n                children: \"Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"deactive\",\n                children: \"Deactive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-sm btn-primary me-1\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-sm btn-danger ms-1\",\n              onClick: () => setIsEdit(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(EditCoupon, \"vAczkXfFjSW/BSs4OhkqIxYFTag=\", false, function () {\n  return [useDispatch];\n});\n\n_c = EditCoupon;\nexport default EditCoupon;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCoupon\");","map":{"version":3,"names":["unwrapResult","React","useState","useDispatch","toast","updateCoupon","EditCoupon","setIsEdit","editData","coupon","dispatch","couponData","setCoupon","id","discount","status","handleChange","e","name","target","value","prev","handleSubmit","preventDefault","alreadyExists","find","coup","dismiss","error","updateData","Number","unwrap","then","res"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder/New folder/src/Components/Admin/Coupon/EditCoupon.js"],"sourcesContent":["import { unwrapResult } from '@reduxjs/toolkit';\nimport React from 'react'\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify'\nimport { updateCoupon } from '../../../App/features/couponSlice';\n\nconst EditCoupon = ({setIsEdit, editData, coupon}) => {\n\n    const dispatch = useDispatch()\n\n    const [ couponData, setCoupon ] = useState({id:editData.id, coupon:editData.coupon, discount: editData.discount, status: editData.status})\n\n    const handleChange = (e) => {\n        const name = e.target.name;\n        const value = e.target.value;\n\n        setCoupon(prev => ({ ...prev, [name]: value }))\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        const alreadyExists = coupon.find(coup => coup.coupon === couponData.coupon && coup.id !== couponData.id)\n\n        if (alreadyExists){\n            toast.dismiss()\n            toast.error('coupon already exists')\n        }else if (couponData.discount < 1 || couponData.discount > 99) {\n            toast.dismiss()\n            toast.error('percent range should be 1 to 99')\n        } else {\n            const id = couponData.id;\n            const updateData = {coupon:couponData.coupon, discount: Number(couponData.discount), status: couponData.status}\n            \n            dispatch(updateCoupon({id, updateData}))\n             .unwrap(unwrapResult)\n             .then(res => {\n                if (res.status){\n                    setIsEdit(false)\n                }\n             })\n        }\n    }\n\n  return (\n    <>\n        <div className=\"card  my-5 mx-auto\" >\n          <div className=\"card-header py-1 \">\n            <h5 className=\"fw-bold\">Edit Coupon</h5>\n          </div>\n          <div className=\"card-body\">\n          <form onSubmit={handleSubmit} className={'row row-cols-lg-auto g-3 align-items-end justify-content-center'}>\n            <div className=\"col-12\">\n                <label\n                 htmlFor=\"coupon\" \n                 className=\"form-label fw-bold\"\n                >\n                    Coupon :\n                </label>\n                <input\n                 type=\"text\" \n                 id=\"coupon\" \n                 className=\"form-control\" \n                 placeholder=\"enter coupon name\" \n                 name=\"coupon\" \n                 value={couponData.coupon}\n                 onChange={handleChange}\n                 required\n                />\n            </div>\n            <div className=\"col-12\">\n                <label\n                 htmlFor=\"coupon\" \n                 className=\"form-label fw-bold\"\n                >\n                    Discount :\n                </label>\n                <input\n                 type=\"number\" \n                 id=\"coupon\" \n                 className=\"form-control\" \n                 placeholder=\"enter discount percent\" \n                 name=\"discount\" \n                 value={couponData.discount}\n                 onChange={handleChange}\n                 required\n                />\n            </div>\n            <div className=\"col-12\">\n                <label\n                 className=\"form-label fw-bold\" \n                 htmlFor=\"status\"\n                >\n                    Status :\n                </label>\n                <select\n                 className=\"form-select\" \n                 id=\"status\"\n                 value={couponData.status}\n                 name=\"status\"\n                 onChange={handleChange}\n                 required\n                >\n                    <option value=\"\">-- Select Status --</option>\n                    <option value=\"active\">Active</option>\n                    <option value=\"deactive\">Deactive</option>\n                </select>\n            </div>\n            <div className='col-12'>\n                <button\n                 type=\"submit\" \n                 className=\"btn btn-sm btn-primary me-1\"\n                >\n                    Update\n                </button>\n                <button\n                 type=\"button\" \n                 className=\"btn btn-sm btn-danger ms-1\"\n                 onClick={() => setIsEdit(false)}\n                >\n                    Cancel\n                </button>\n            </div>\n            </form>\n          </div>\n        </div>\n    </>\n  )\n}\n\nexport default EditCoupon"],"mappings":";;;AAAA,SAASA,YAAT,QAA6B,kBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,YAAT,QAA6B,mCAA7B;;;;AAEA,MAAMC,UAAU,GAAG,QAAmC;EAAA;;EAAA,IAAlC;IAACC,SAAD;IAAYC,QAAZ;IAAsBC;EAAtB,CAAkC;EAElD,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;EAEA,MAAM,CAAEQ,UAAF,EAAcC,SAAd,IAA4BV,QAAQ,CAAC;IAACW,EAAE,EAACL,QAAQ,CAACK,EAAb;IAAiBJ,MAAM,EAACD,QAAQ,CAACC,MAAjC;IAAyCK,QAAQ,EAAEN,QAAQ,CAACM,QAA5D;IAAsEC,MAAM,EAAEP,QAAQ,CAACO;EAAvF,CAAD,CAA1C;;EAEA,MAAMC,YAAY,GAAIC,CAAD,IAAO;IACxB,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB;IACA,MAAME,KAAK,GAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB;IAEAR,SAAS,CAACS,IAAI,KAAK,EAAE,GAAGA,IAAL;MAAW,CAACH,IAAD,GAAQE;IAAnB,CAAL,CAAL,CAAT;EACH,CALD;;EAOA,MAAME,YAAY,GAAIL,CAAD,IAAO;IACxBA,CAAC,CAACM,cAAF;IAEA,MAAMC,aAAa,GAAGf,MAAM,CAACgB,IAAP,CAAYC,IAAI,IAAIA,IAAI,CAACjB,MAAL,KAAgBE,UAAU,CAACF,MAA3B,IAAqCiB,IAAI,CAACb,EAAL,KAAYF,UAAU,CAACE,EAAhF,CAAtB;;IAEA,IAAIW,aAAJ,EAAkB;MACdpB,KAAK,CAACuB,OAAN;MACAvB,KAAK,CAACwB,KAAN,CAAY,uBAAZ;IACH,CAHD,MAGM,IAAIjB,UAAU,CAACG,QAAX,GAAsB,CAAtB,IAA2BH,UAAU,CAACG,QAAX,GAAsB,EAArD,EAAyD;MAC3DV,KAAK,CAACuB,OAAN;MACAvB,KAAK,CAACwB,KAAN,CAAY,iCAAZ;IACH,CAHK,MAGC;MACH,MAAMf,EAAE,GAAGF,UAAU,CAACE,EAAtB;MACA,MAAMgB,UAAU,GAAG;QAACpB,MAAM,EAACE,UAAU,CAACF,MAAnB;QAA2BK,QAAQ,EAAEgB,MAAM,CAACnB,UAAU,CAACG,QAAZ,CAA3C;QAAkEC,MAAM,EAAEJ,UAAU,CAACI;MAArF,CAAnB;MAEAL,QAAQ,CAACL,YAAY,CAAC;QAACQ,EAAD;QAAKgB;MAAL,CAAD,CAAb,CAAR,CACEE,MADF,CACS/B,YADT,EAEEgC,IAFF,CAEOC,GAAG,IAAI;QACV,IAAIA,GAAG,CAAClB,MAAR,EAAe;UACXR,SAAS,CAAC,KAAD,CAAT;QACH;MACH,CANF;IAOH;EACJ,CAvBD;;EAyBF,oBACE;IAAA,uBACI;MAAK,SAAS,EAAC,oBAAf;MAAA,wBACE;QAAK,SAAS,EAAC,mBAAf;QAAA,uBACE;UAAI,SAAS,EAAC,SAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE;QAAK,SAAS,EAAC,WAAf;QAAA,uBACA;UAAM,QAAQ,EAAEe,YAAhB;UAA8B,SAAS,EAAE,iEAAzC;UAAA,wBACE;YAAK,SAAS,EAAC,QAAf;YAAA,wBACI;cACC,OAAO,EAAC,QADT;cAEC,SAAS,EAAC,oBAFX;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAOI;cACC,IAAI,EAAC,MADN;cAEC,EAAE,EAAC,QAFJ;cAGC,SAAS,EAAC,cAHX;cAIC,WAAW,EAAC,mBAJb;cAKC,IAAI,EAAC,QALN;cAMC,KAAK,EAAEX,UAAU,CAACF,MANnB;cAOC,QAAQ,EAAEO,YAPX;cAQC,QAAQ;YART;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAmBE;YAAK,SAAS,EAAC,QAAf;YAAA,wBACI;cACC,OAAO,EAAC,QADT;cAEC,SAAS,EAAC,oBAFX;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAOI;cACC,IAAI,EAAC,QADN;cAEC,EAAE,EAAC,QAFJ;cAGC,SAAS,EAAC,cAHX;cAIC,WAAW,EAAC,wBAJb;cAKC,IAAI,EAAC,UALN;cAMC,KAAK,EAAEL,UAAU,CAACG,QANnB;cAOC,QAAQ,EAAEE,YAPX;cAQC,QAAQ;YART;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAnBF,eAqCE;YAAK,SAAS,EAAC,QAAf;YAAA,wBACI;cACC,SAAS,EAAC,oBADX;cAEC,OAAO,EAAC,QAFT;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAOI;cACC,SAAS,EAAC,aADX;cAEC,EAAE,EAAC,QAFJ;cAGC,KAAK,EAAEL,UAAU,CAACI,MAHnB;cAIC,IAAI,EAAC,QAJN;cAKC,QAAQ,EAAEC,YALX;cAMC,QAAQ,MANT;cAAA,wBAQI;gBAAQ,KAAK,EAAC,EAAd;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QARJ,eASI;gBAAQ,KAAK,EAAC,QAAd;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QATJ,eAUI;gBAAQ,KAAK,EAAC,UAAd;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAVJ;YAAA;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QArCF,eAyDE;YAAK,SAAS,EAAC,QAAf;YAAA,wBACI;cACC,IAAI,EAAC,QADN;cAEC,SAAS,EAAC,6BAFX;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAOI;cACC,IAAI,EAAC,QADN;cAEC,SAAS,EAAC,4BAFX;cAGC,OAAO,EAAE,MAAMT,SAAS,CAAC,KAAD,CAHzB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAzDF;QAAA;UAAA;UAAA;UAAA;QAAA;MADA;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ,iBADF;AAoFD,CA1HD;;GAAMD,U;UAEeH,W;;;KAFfG,U;AA4HN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}