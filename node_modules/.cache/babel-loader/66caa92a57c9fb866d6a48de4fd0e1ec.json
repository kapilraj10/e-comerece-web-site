{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\New folder\\\\New folder\\\\src\\\\Pages\\\\Admin\\\\Banners.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteBanner, fetchBanner, updateBanner } from \"../../App/features/bannerSlice\";\nimport AddLinkButton from \"../../Components/Admin/AddLinkButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Banners = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    adminData\n  } = useSelector(state => state.adminAuth);\n  const {\n    banner,\n    error\n  } = useSelector(state => state.banner);\n  useEffect(() => {\n    const controler = new AbortController();\n    const signal = controler.signal;\n    dispatch(fetchBanner({\n      signal\n    }));\n    return () => {\n      controler.abort();\n    };\n  }, [dispatch]);\n\n  const handleStatus = _ref => {\n    let {\n      id,\n      status\n    } = _ref;\n\n    if (status === \"hidden\") {\n      const updateData = {\n        status: \"active\"\n      };\n      dispatch(updateBanner({\n        id,\n        updateData\n      }));\n    } else if (status === \"active\") {\n      const updateData = {\n        status: \"hidden\"\n      };\n      dispatch(updateBanner({\n        id,\n        updateData\n      }));\n    }\n  };\n\n  const handleDelete = id => {\n    dispatch(deleteBanner({\n      id\n    }));\n  };\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-5 text-center h3\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: banner && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card  bg-light my-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(AddLinkButton, {\n          btntext: \"Add Banner\",\n          link: \"/admin/banner/add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body row  \",\n        children: banner && banner.map(ban => {\n          const {\n            id,\n            title,\n            status,\n            image\n          } = ban;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" col-12 col-md-6 mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"img-fluid p-2\",\n                src: image,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body d-flex justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title\",\n                    children: title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"card-title\",\n                    children: [\"Status : \", status]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `btn btn-sm mx-1 ${status === 'active' ? 'btn-danger' : 'btn-success'}`,\n                    onClick: () => handleStatus({\n                      id,\n                      status\n                    }),\n                    disabled: adminData.userType !== 'super admin' && id <= 2,\n                    children: status === 'active' ? 'hide' : 'show'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 29\n                  }, this), adminData.userType === 'super admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-danger mx-1\",\n                    onDoubleClick: () => handleDelete(id),\n                    children: \"delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 23\n            }, this)\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Banners, \"o1Q6jxFSajEtP9cWWf/6cSZxPz4=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Banners;\nexport default Banners;\n\nvar _c;\n\n$RefreshReg$(_c, \"Banners\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","deleteBanner","fetchBanner","updateBanner","AddLinkButton","Banners","dispatch","adminData","state","adminAuth","banner","error","controler","AbortController","signal","abort","handleStatus","id","status","updateData","handleDelete","map","ban","title","image","userType"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder/New folder/src/Pages/Admin/Banners.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteBanner, fetchBanner, updateBanner } from \"../../App/features/bannerSlice\";\nimport AddLinkButton from \"../../Components/Admin/AddLinkButton\";\n\nconst Banners = () => {\n  const dispatch = useDispatch();\n\n  const {adminData} = useSelector((state) => state.adminAuth);\n\n  const { banner, error } = useSelector(state => state.banner)\n\n  useEffect(() => {\n    const controler = new AbortController();\n    const signal = controler.signal;\n\n    dispatch(fetchBanner({ signal }));\n\n    return () => {\n      controler.abort();\n    };\n  }, [dispatch]);\n\n\n  const handleStatus = ({ id, status }) => {\n    if (status === \"hidden\") {\n      const updateData = { status: \"active\" };\n      dispatch(updateBanner({ id, updateData }));\n    } else if (status === \"active\") {\n      const updateData = { status: \"hidden\" };\n      dispatch(updateBanner({ id, updateData }));\n    }\n  };\n\n  const handleDelete = (id) => {\n    dispatch(deleteBanner({id}))\n  }\n\n\n\n  if (error) {\n    return <div className=\"my-5 text-center h3\">{error}</div>\n  }\n\n  return (\n    <>\n      { banner && (\n            <div className=\"card  bg-light my-5\">\n              <div className=\"card-header\">\n                \n                <AddLinkButton\n                  btntext={\"Add Banner\"}\n                  link={\"/admin/banner/add\"}\n                />\n\n              </div>\n              <div className=\"card-body row  \">\n                {banner && banner.map(ban => {\n                  const { id, title, status, image } = ban;\n                  return (\n                    <div key={id} className=\" col-12 col-md-6 mb-3\">\n                      <div className=\"card\" >\n                        <img className=\"img-fluid p-2\"  src={image} alt='' />\n                        <div className=\"card-body d-flex justify-content-between\">\n                          <div>\n                            <h5 className=\"card-title\">{title}</h5>\n                            <h6 className=\"card-title\">Status : {status}</h6>\n                          </div>\n                          <div>\n                            <button\n                             className={`btn btn-sm mx-1 ${status === 'active'? 'btn-danger':'btn-success'}`}\n                             onClick={()=> handleStatus({id, status})}\n                             disabled={ (adminData.userType !== 'super admin' && id <= 2 )}\n                            >\n                              { status === 'active'? 'hide' : 'show'}\n                            </button>\n                            { adminData.userType === 'super admin' && (\n                              <button\n                              className=\"btn btn-sm btn-danger mx-1\"\n                              onDoubleClick={()=> handleDelete(id)}\n                              >\n                                delete\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n        )\n      }\n    </>\n  );\n};\n\n\n\nexport default Banners"],"mappings":"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"},"metadata":{},"sourceType":"module"}