{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\New folder (2)\\\\New folder\\\\src\\\\Pages\\\\Frontend\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchFrontendProducts } from \"../../App/features/frontendProductsSlice\";\nimport ProductCard from \"../../Components/Frontend/ProductCard\";\nimport Pagination from \"../../Components/Pagination\";\nimport Spiner from \"../../Components/Spiner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Products = () => {\n  _s();\n\n  const {\n    category\n  } = useParams();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const controler = new AbortController();\n    const signal = controler.signal;\n\n    if (category === 'all' || category === undefined) {\n      dispatch(fetchFrontendProducts({\n        signal\n      }));\n    } else {\n      dispatch(fetchFrontendProducts({\n        category,\n        signal\n      }));\n    }\n\n    return () => {\n      controler.abort();\n    };\n  }, [category, dispatch]);\n  const {\n    products,\n    error,\n    loading\n  } = useSelector(state => state.frontendProducts);\n  const [productsData, setProductsData] = useState([]); //  Pagination\n\n  const [page, setPage] = useState(1);\n  const dataLimit = 6;\n  const lastIndex = page * dataLimit;\n  const firstIndex = lastIndex - dataLimit;\n  const totalData = productsData.length;\n  const currentProducts = productsData.slice(firstIndex, lastIndex);\n  useEffect(() => {\n    setProductsData(products);\n    setPage(1);\n  }, [products, category]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-3 text-center\",\n    children: /*#__PURE__*/_jsxDEV(Spiner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 57\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-3 text-center\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row g-2 g-sm-5\",\n      children: products && currentProducts.map(product => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-xml-12 col-sm-6 col-md-6 col-lg-4\",\n          children: /*#__PURE__*/_jsxDEV(ProductCard, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2\",\n      children: totalData > dataLimit ? /*#__PURE__*/_jsxDEV(Pagination, {\n        page: page,\n        setPage: setPage,\n        total: totalData,\n        limit: dataLimit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Products, \"0h9Au9rOAr+10Fc7LnNQ49rQvFk=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useParams","fetchFrontendProducts","ProductCard","Pagination","Spiner","Products","category","dispatch","controler","AbortController","signal","undefined","abort","products","error","loading","state","frontendProducts","productsData","setProductsData","page","setPage","dataLimit","lastIndex","firstIndex","totalData","length","currentProducts","slice","map","product","id"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder (2)/New folder/src/Pages/Frontend/Products.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchFrontendProducts } from \"../../App/features/frontendProductsSlice\";\nimport ProductCard from \"../../Components/Frontend/ProductCard\";\nimport Pagination from \"../../Components/Pagination\";\nimport Spiner from \"../../Components/Spiner\";\n\nconst Products = () => {\n    const { category } = useParams()\n    const dispatch = useDispatch()\n\n    useEffect(()=>{\n        const controler = new AbortController();\n        const signal = controler.signal;\n\n        if (category === 'all' || category === undefined){\n            dispatch(fetchFrontendProducts({signal}))\n        } else {\n            dispatch(fetchFrontendProducts({category, signal}))\n        }\n\n        return () => {\n            controler.abort()\n        }\n    },[category, dispatch])\n\n    const { products, error, loading } = useSelector(state => state.frontendProducts)\n  \n    const [ productsData, setProductsData] = useState([]);\n\n    //  Pagination\n    const [ page, setPage ] = useState(1)\n    const dataLimit = 6;\n    const lastIndex = page*dataLimit;\n    const firstIndex = lastIndex - dataLimit;\n    const totalData =  productsData.length;\n    const currentProducts =  productsData.slice(firstIndex, lastIndex)\n  \n    useEffect(() => {\n      setProductsData(products);\n      setPage(1)\n    }, [products, category]);\n\n\n  if (loading) return <div className=\"mt-3 text-center\"><Spiner /></div> ;\n\n  if (error) return <div className=\"mt-3 text-center\">{error}</div> ;\n\n  return (\n    <>\n        <div className=\"row g-2 g-sm-5\">\n            { products && currentProducts.map(product => {\n                return (\n                    <div key={product.id} className='col-xml-12 col-sm-6 col-md-6 col-lg-4'>\n                        <ProductCard product={product} />\n                    </div>\n                )\n            })}\n        </div>\n        <div className=\"mt-2\">\n            { totalData > dataLimit ? (\n                <Pagination page={page} setPage={setPage} total={totalData} limit={dataLimit} />\n            ) : null }\n        </div>\n    </>\n  );\n};\n\nexport default Products;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}