{"ast":null,"code":"import { Action } from \"../../internal/Action.js\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue.js\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier.js\";\n/**\n * @description A class that defines how to recolor objects in an asset using Generative AI\n * @extends SDK.Action\n * @memberOf Actions.Effect\n * @see Visit {@link Actions.Effect|Effect} for an example\n */\n\nclass GenerativeRecolor extends Action {\n  constructor(prompts, color) {\n    super();\n    this._prompts = [];\n    this._detectMultiple = false; // Alias method to be backwards compatible\n\n    this.multiple = this.detectMultiple.bind(this);\n    this._prompts = Array.isArray(prompts) ? prompts : [prompts];\n    this._toColor = color;\n    this._actionModel.actionType = \"generativeRecolor\";\n    this._actionModel.prompts = this._prompts;\n    this._actionModel.toColor = this._toColor;\n  }\n\n  detectMultiple() {\n    let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    this._detectMultiple = value;\n\n    if (this._detectMultiple) {\n      this._actionModel.detectMultiple = this._detectMultiple;\n    }\n\n    return this;\n  }\n\n  prepareQualifiers() {\n    const qualifierValue = new QualifierValue().setDelimiter(\";\");\n\n    if (this._prompts.length) {\n      qualifierValue.addValue(this.preparePromptValue());\n    }\n\n    if (this._toColor) {\n      const formattedColor = this._toColor.match(/^#/) ? this._toColor.substr(1) : this._toColor;\n      qualifierValue.addValue(`to-color_${formattedColor}`);\n    }\n\n    if (this._detectMultiple) {\n      qualifierValue.addValue(\"multiple_true\");\n    }\n\n    this.addQualifier(new Qualifier(\"e\", `gen_recolor:${qualifierValue.toString()}`));\n  }\n\n  preparePromptValue() {\n    const prompts = this._prompts;\n    const qualifierValue = new QualifierValue().setDelimiter(\";\");\n\n    if (prompts.length === 1) {\n      qualifierValue.addValue(`prompt_${prompts[0]}`);\n    } else {\n      qualifierValue.addValue(`prompt_(${prompts.join(\";\")})`);\n    }\n\n    return qualifierValue;\n  }\n\n  static fromJson(actionModel) {\n    const {\n      prompts,\n      detectMultiple,\n      toColor\n    } = actionModel;\n    const result = new this(prompts, toColor);\n\n    if (detectMultiple) {\n      result.detectMultiple(detectMultiple);\n    }\n\n    return result;\n  }\n\n}\n\nexport { GenerativeRecolor };","map":{"version":3,"names":["Action","QualifierValue","Qualifier","GenerativeRecolor","constructor","prompts","color","_prompts","_detectMultiple","multiple","detectMultiple","bind","Array","isArray","_toColor","_actionModel","actionType","toColor","value","prepareQualifiers","qualifierValue","setDelimiter","length","addValue","preparePromptValue","formattedColor","match","substr","addQualifier","toString","join","fromJson","actionModel","result"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder (2)/New folder/node_modules/@cloudinary/transformation-builder-sdk/actions/effect/GenerativeRecolor.js"],"sourcesContent":["import { Action } from \"../../internal/Action.js\";\nimport { QualifierValue } from \"../../internal/qualifier/QualifierValue.js\";\nimport { Qualifier } from \"../../internal/qualifier/Qualifier.js\";\n/**\n * @description A class that defines how to recolor objects in an asset using Generative AI\n * @extends SDK.Action\n * @memberOf Actions.Effect\n * @see Visit {@link Actions.Effect|Effect} for an example\n */\nclass GenerativeRecolor extends Action {\n    constructor(prompts, color) {\n        super();\n        this._prompts = [];\n        this._detectMultiple = false;\n        // Alias method to be backwards compatible\n        this.multiple = this.detectMultiple.bind(this);\n        this._prompts = Array.isArray(prompts) ? prompts : [prompts];\n        this._toColor = color;\n        this._actionModel.actionType = \"generativeRecolor\";\n        this._actionModel.prompts = this._prompts;\n        this._actionModel.toColor = this._toColor;\n    }\n    detectMultiple(value = true) {\n        this._detectMultiple = value;\n        if (this._detectMultiple) {\n            this._actionModel.detectMultiple = this._detectMultiple;\n        }\n        return this;\n    }\n    prepareQualifiers() {\n        const qualifierValue = new QualifierValue().setDelimiter(\";\");\n        if (this._prompts.length) {\n            qualifierValue.addValue(this.preparePromptValue());\n        }\n        if (this._toColor) {\n            const formattedColor = this._toColor.match(/^#/)\n                ? this._toColor.substr(1)\n                : this._toColor;\n            qualifierValue.addValue(`to-color_${formattedColor}`);\n        }\n        if (this._detectMultiple) {\n            qualifierValue.addValue(\"multiple_true\");\n        }\n        this.addQualifier(new Qualifier(\"e\", `gen_recolor:${qualifierValue.toString()}`));\n    }\n    preparePromptValue() {\n        const prompts = this._prompts;\n        const qualifierValue = new QualifierValue().setDelimiter(\";\");\n        if (prompts.length === 1) {\n            qualifierValue.addValue(`prompt_${prompts[0]}`);\n        }\n        else {\n            qualifierValue.addValue(`prompt_(${prompts.join(\";\")})`);\n        }\n        return qualifierValue;\n    }\n    static fromJson(actionModel) {\n        const { prompts, detectMultiple, toColor } = actionModel;\n        const result = new this(prompts, toColor);\n        if (detectMultiple) {\n            result.detectMultiple(detectMultiple);\n        }\n        return result;\n    }\n}\nexport { GenerativeRecolor };\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,0BAAvB;AACA,SAASC,cAAT,QAA+B,4CAA/B;AACA,SAASC,SAAT,QAA0B,uCAA1B;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,iBAAN,SAAgCH,MAAhC,CAAuC;EACnCI,WAAW,CAACC,OAAD,EAAUC,KAAV,EAAiB;IACxB;IACA,KAAKC,QAAL,GAAgB,EAAhB;IACA,KAAKC,eAAL,GAAuB,KAAvB,CAHwB,CAIxB;;IACA,KAAKC,QAAL,GAAgB,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAhB;IACA,KAAKJ,QAAL,GAAgBK,KAAK,CAACC,OAAN,CAAcR,OAAd,IAAyBA,OAAzB,GAAmC,CAACA,OAAD,CAAnD;IACA,KAAKS,QAAL,GAAgBR,KAAhB;IACA,KAAKS,YAAL,CAAkBC,UAAlB,GAA+B,mBAA/B;IACA,KAAKD,YAAL,CAAkBV,OAAlB,GAA4B,KAAKE,QAAjC;IACA,KAAKQ,YAAL,CAAkBE,OAAlB,GAA4B,KAAKH,QAAjC;EACH;;EACDJ,cAAc,GAAe;IAAA,IAAdQ,KAAc,uEAAN,IAAM;IACzB,KAAKV,eAAL,GAAuBU,KAAvB;;IACA,IAAI,KAAKV,eAAT,EAA0B;MACtB,KAAKO,YAAL,CAAkBL,cAAlB,GAAmC,KAAKF,eAAxC;IACH;;IACD,OAAO,IAAP;EACH;;EACDW,iBAAiB,GAAG;IAChB,MAAMC,cAAc,GAAG,IAAInB,cAAJ,GAAqBoB,YAArB,CAAkC,GAAlC,CAAvB;;IACA,IAAI,KAAKd,QAAL,CAAce,MAAlB,EAA0B;MACtBF,cAAc,CAACG,QAAf,CAAwB,KAAKC,kBAAL,EAAxB;IACH;;IACD,IAAI,KAAKV,QAAT,EAAmB;MACf,MAAMW,cAAc,GAAG,KAAKX,QAAL,CAAcY,KAAd,CAAoB,IAApB,IACjB,KAAKZ,QAAL,CAAca,MAAd,CAAqB,CAArB,CADiB,GAEjB,KAAKb,QAFX;MAGAM,cAAc,CAACG,QAAf,CAAyB,YAAWE,cAAe,EAAnD;IACH;;IACD,IAAI,KAAKjB,eAAT,EAA0B;MACtBY,cAAc,CAACG,QAAf,CAAwB,eAAxB;IACH;;IACD,KAAKK,YAAL,CAAkB,IAAI1B,SAAJ,CAAc,GAAd,EAAoB,eAAckB,cAAc,CAACS,QAAf,EAA0B,EAA5D,CAAlB;EACH;;EACDL,kBAAkB,GAAG;IACjB,MAAMnB,OAAO,GAAG,KAAKE,QAArB;IACA,MAAMa,cAAc,GAAG,IAAInB,cAAJ,GAAqBoB,YAArB,CAAkC,GAAlC,CAAvB;;IACA,IAAIhB,OAAO,CAACiB,MAAR,KAAmB,CAAvB,EAA0B;MACtBF,cAAc,CAACG,QAAf,CAAyB,UAASlB,OAAO,CAAC,CAAD,CAAI,EAA7C;IACH,CAFD,MAGK;MACDe,cAAc,CAACG,QAAf,CAAyB,WAAUlB,OAAO,CAACyB,IAAR,CAAa,GAAb,CAAkB,GAArD;IACH;;IACD,OAAOV,cAAP;EACH;;EACc,OAARW,QAAQ,CAACC,WAAD,EAAc;IACzB,MAAM;MAAE3B,OAAF;MAAWK,cAAX;MAA2BO;IAA3B,IAAuCe,WAA7C;IACA,MAAMC,MAAM,GAAG,IAAI,IAAJ,CAAS5B,OAAT,EAAkBY,OAAlB,CAAf;;IACA,IAAIP,cAAJ,EAAoB;MAChBuB,MAAM,CAACvB,cAAP,CAAsBA,cAAtB;IACH;;IACD,OAAOuB,MAAP;EACH;;AAtDkC;;AAwDvC,SAAS9B,iBAAT"},"metadata":{},"sourceType":"module"}