{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\New folder\\\\New folder\\\\src\\\\Pages\\\\Admin\\\\Coupon.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchCoupon } from \"../../App/features/couponSlice\";\nimport AddCoupon from \"../../Components/Admin/Coupon/AddCoupon\";\nimport CouponTable from \"../../Components/Admin/Coupon/CouponTable\";\nimport EditCoupon from \"../../Components/Admin/Coupon/EditCoupon\";\nimport Search from \"../../Components/Admin/Search\";\nimport Pagination from \"../../Components/Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Coupon = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    coupon,\n    error\n  } = useSelector(state => state.coupon);\n  useEffect(() => {\n    const controler = new AbortController();\n    const signal = controler.signal;\n    dispatch(fetchCoupon({\n      signal\n    }));\n    return () => {\n      controler.abort();\n    };\n  }, [dispatch]);\n  const [cuponData, setCuponData] = useState([]); //  Pagination\n\n  const [page, setPage] = useState(1);\n  const dataLimit = 3;\n  const lastIndex = page * dataLimit;\n  const firstIndex = lastIndex - dataLimit;\n  const totalData = cuponData.length;\n  const currentCoupon = cuponData.slice(firstIndex, lastIndex);\n  useEffect(() => {\n    setCuponData(coupon);\n    setPage(1);\n  }, [coupon]); // search function\n\n  const handleSearch = e => {\n    const searchText = e.target.value;\n    const filteredCoupon = coupon.filter(coupon => coupon.coupon.toLowerCase().includes(searchText.toLowerCase()));\n    setCuponData(filteredCoupon);\n  };\n\n  const [isEdit, setIsEdit] = useState(false);\n  const [editData, setEditData] = useState({\n    id: '',\n    coupon: '',\n    discount: '',\n    status: ''\n  });\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-5 text-center h3\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: coupon && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-5 \",\n      children: [!isEdit ? /*#__PURE__*/_jsxDEV(AddCoupon, {\n        coupon: coupon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 16\n      }, this) : /*#__PURE__*/_jsxDEV(EditCoupon, {\n        setIsEdit: setIsEdit,\n        editData: editData,\n        coupon: coupon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card  bg-light\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header py-2 d-flex flex-row align-items-center justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Coupon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Search, {\n            handleSearch: handleSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body p-1\",\n          children: coupon.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(CouponTable, {\n              currentCoupon: currentCoupon,\n              setEditData: setEditData,\n              setIsEdit: setIsEdit,\n              isEdit: isEdit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n              page: page,\n              setPage: setPage,\n              total: totalData,\n              limit: dataLimit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n};\n\n_s(Coupon, \"HJIaCXZgRfdjHHj0AFH2328rSTU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Coupon;\nexport default Coupon;\n\nvar _c;\n\n$RefreshReg$(_c, \"Coupon\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","fetchCoupon","AddCoupon","CouponTable","EditCoupon","Search","Pagination","Coupon","dispatch","coupon","error","state","controler","AbortController","signal","abort","cuponData","setCuponData","page","setPage","dataLimit","lastIndex","firstIndex","totalData","length","currentCoupon","slice","handleSearch","e","searchText","target","value","filteredCoupon","filter","toLowerCase","includes","isEdit","setIsEdit","editData","setEditData","id","discount","status"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder/New folder/src/Pages/Admin/Coupon.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchCoupon } from \"../../App/features/couponSlice\";\nimport AddCoupon from \"../../Components/Admin/Coupon/AddCoupon\";\nimport CouponTable from \"../../Components/Admin/Coupon/CouponTable\";\nimport EditCoupon from \"../../Components/Admin/Coupon/EditCoupon\";\nimport Search from \"../../Components/Admin/Search\";\nimport Pagination from \"../../Components/Pagination\";\n\nconst Coupon = () => {\n  const dispatch = useDispatch();\n\n  const { coupon, error } = useSelector((state) => state.coupon);\n\n  useEffect(() => {\n    const controler = new AbortController();\n    const signal = controler.signal;\n\n    dispatch(fetchCoupon({ signal }));\n\n    return () => {\n      controler.abort();\n    };\n  }, [dispatch]);\n\n  const [cuponData, setCuponData] = useState([]);\n\n  //  Pagination\n  const [ page, setPage ] = useState(1)\n  const dataLimit = 3;\n  const lastIndex = page*dataLimit;\n  const firstIndex = lastIndex - dataLimit;\n  const totalData = cuponData.length;\n  const currentCoupon = cuponData.slice(firstIndex, lastIndex)\n\n  useEffect(() => {\n    setCuponData(coupon);\n    setPage(1)\n  }, [coupon]);\n\n\n\n  // search function\n  const handleSearch = (e) => {\n    const searchText = e.target.value;\n    const filteredCoupon = coupon.filter(coupon => coupon.coupon.toLowerCase().includes(searchText.toLowerCase()) )\n    setCuponData(filteredCoupon)\n  }\n  \n\n  const [ isEdit, setIsEdit ] = useState(false)\n  const [ editData, setEditData ] = useState({id:'', coupon:'', discount: '', status: ''})\n\n\n\n\n  if (error) {\n    return <div className=\"my-5 text-center h3\">{error}</div>\n  }\n\n  return (\n    <>\n      { coupon && (\n          <div className=\"container my-5 \">\n\n            { !isEdit ? (\n               <AddCoupon coupon={coupon} />\n              ) : ( \n               <EditCoupon setIsEdit={setIsEdit} editData={editData} coupon={coupon} />\n              ) \n            }\n\n            <div className=\"card  bg-light\">\n              <div className=\"card-header py-2 d-flex flex-row align-items-center justify-content-between\">\n                \n                <h5>Coupon</h5>\n\n                <Search \n                  handleSearch={handleSearch}\n                />\n\n              </div>\n              <div className=\"card-body p-1\">\n                {coupon.length ?(\n                  <>\n                    <CouponTable currentCoupon={currentCoupon} setEditData={setEditData} setIsEdit={setIsEdit} isEdit={isEdit} />\n                    <Pagination page={page} setPage={setPage} total={totalData} limit={dataLimit} />\n                  </>\n                ) : null}\n              </div>\n            </div>\n          </div>\n        )\n      }\n    </>\n  );\n};\n\nexport default Coupon;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}