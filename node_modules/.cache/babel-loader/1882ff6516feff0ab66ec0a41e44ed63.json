{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\New folder (2)\\\\New folder\\\\src\\\\Pages\\\\Admin\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchProducts } from \"../../App/features/productsSlice\";\nimport AddLinkButton from \"../../Components/Admin/AddLinkButton\";\nimport Search from \"../../Components/Admin/Search\";\nimport Pagination from \"../../Components/Pagination\";\nimport ProductsTable from \"../../Components/Admin/Products/ProductsTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Products = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    products,\n    error\n  } = useSelector(state => state.products);\n  useEffect(() => {\n    const controler = new AbortController();\n    const signal = controler.signal;\n    dispatch(fetchProducts({\n      signal\n    }));\n    return () => {\n      controler.abort();\n    };\n  }, [dispatch]);\n  const [productsData, setProductsData] = useState([]); //  Pagination\n\n  const [page, setPage] = useState(1);\n  const dataLimit = 4;\n  const lastIndex = page * dataLimit;\n  const firstIndex = lastIndex - dataLimit;\n  const totalData = productsData.length;\n  const currentProducts = productsData.slice(firstIndex, lastIndex);\n  useEffect(() => {\n    setProductsData(products); // setPage(1)\n  }, [products]); // search function\n\n  const handleSearch = e => {\n    const searchText = e.target.value;\n    const filteredProducts = products.filter(product => product.title.toLowerCase().includes(searchText.toLowerCase()));\n    setProductsData(filteredProducts);\n    setPage(1);\n  };\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-5 text-center h3\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: products && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card  bg-light my-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header py-3 d-flex flex-row align-items-center justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(AddLinkButton, {\n            btntext: \"Add Product\",\n            link: \"/admin/products/add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Search, {\n            handleSearch: handleSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: products.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(ProductsTable, {\n              currentProducts: currentProducts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n              page: page,\n              setPage: setPage,\n              total: totalData,\n              limit: dataLimit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n};\n\n_s(Products, \"yGjXPSn8Nk9S0Cf23qLVJDycklg=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","fetchProducts","AddLinkButton","Search","Pagination","ProductsTable","Products","dispatch","products","error","state","controler","AbortController","signal","abort","productsData","setProductsData","page","setPage","dataLimit","lastIndex","firstIndex","totalData","length","currentProducts","slice","handleSearch","e","searchText","target","value","filteredProducts","filter","product","title","toLowerCase","includes"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder (2)/New folder/src/Pages/Admin/Products.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchProducts } from \"../../App/features/productsSlice\";\nimport AddLinkButton from \"../../Components/Admin/AddLinkButton\";\nimport Search from \"../../Components/Admin/Search\";\nimport Pagination from \"../../Components/Pagination\";\nimport ProductsTable from \"../../Components/Admin/Products/ProductsTable\";\n\nconst Products = () => {\n  const dispatch = useDispatch();\n\n  const { products, error } = useSelector((state) => state.products);\n\n  useEffect(() => {\n    const controler = new AbortController();\n    const signal = controler.signal;\n\n    dispatch(fetchProducts({ signal }));\n\n    return () => {\n      controler.abort();\n    };\n  }, [dispatch]);\n\n  const [productsData, setProductsData] = useState([]);\n\n  //  Pagination\n  const [ page, setPage ] = useState(1)\n  const dataLimit = 4;\n  const lastIndex = page*dataLimit;\n  const firstIndex = lastIndex - dataLimit;\n  const totalData = productsData.length;\n  const currentProducts = productsData.slice(firstIndex, lastIndex)\n\n  useEffect(() => {\n    setProductsData(products);\n    // setPage(1)\n  }, [products]);\n  \n\n\n  // search function\n  const handleSearch = (e) => {\n    const searchText = e.target.value;\n    const filteredProducts = products.filter(product => product.title.toLowerCase().includes(searchText.toLowerCase()) )\n    setProductsData(filteredProducts)\n    setPage(1)\n  }\n\n  \n\n  if (error) {\n    return <div className=\"my-5 text-center h3\">{error}</div>\n  }\n\n  return (\n    <>\n      { products && (\n          <div className=\"container\">\n            <div className=\"card  bg-light my-5\">\n              <div className=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\n                \n                <AddLinkButton\n                  btntext={\"Add Product\"}\n                  link={\"/admin/products/add\"}\n                />\n\n                <Search \n                  handleSearch={handleSearch}\n                />\n\n              </div>\n              <div className=\"card-body\">\n                {products.length ?(\n                  <>\n                    <ProductsTable currentProducts={currentProducts} />\n                    <Pagination page={page} setPage={setPage} total={totalData} limit={dataLimit} />\n                  </>\n                ) : null}\n              </div>\n            </div>\n          </div>\n        )\n      }\n    </>\n  );\n};\n\nexport default Products;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,aAAT,QAA8B,kCAA9B;AACA,OAAOC,aAAP,MAA0B,sCAA1B;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,aAAP,MAA0B,+CAA1B;;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EACrB,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;EAEA,MAAM;IAAES,QAAF;IAAYC;EAAZ,IAAsBT,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACF,QAAlB,CAAvC;EAEAX,SAAS,CAAC,MAAM;IACd,MAAMc,SAAS,GAAG,IAAIC,eAAJ,EAAlB;IACA,MAAMC,MAAM,GAAGF,SAAS,CAACE,MAAzB;IAEAN,QAAQ,CAACN,aAAa,CAAC;MAAEY;IAAF,CAAD,CAAd,CAAR;IAEA,OAAO,MAAM;MACXF,SAAS,CAACG,KAAV;IACD,CAFD;EAGD,CATQ,EASN,CAACP,QAAD,CATM,CAAT;EAWA,MAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkClB,QAAQ,CAAC,EAAD,CAAhD,CAhBqB,CAkBrB;;EACA,MAAM,CAAEmB,IAAF,EAAQC,OAAR,IAAoBpB,QAAQ,CAAC,CAAD,CAAlC;EACA,MAAMqB,SAAS,GAAG,CAAlB;EACA,MAAMC,SAAS,GAAGH,IAAI,GAACE,SAAvB;EACA,MAAME,UAAU,GAAGD,SAAS,GAAGD,SAA/B;EACA,MAAMG,SAAS,GAAGP,YAAY,CAACQ,MAA/B;EACA,MAAMC,eAAe,GAAGT,YAAY,CAACU,KAAb,CAAmBJ,UAAnB,EAA+BD,SAA/B,CAAxB;EAEAvB,SAAS,CAAC,MAAM;IACdmB,eAAe,CAACR,QAAD,CAAf,CADc,CAEd;EACD,CAHQ,EAGN,CAACA,QAAD,CAHM,CAAT,CA1BqB,CAiCrB;;EACA,MAAMkB,YAAY,GAAIC,CAAD,IAAO;IAC1B,MAAMC,UAAU,GAAGD,CAAC,CAACE,MAAF,CAASC,KAA5B;IACA,MAAMC,gBAAgB,GAAGvB,QAAQ,CAACwB,MAAT,CAAgBC,OAAO,IAAIA,OAAO,CAACC,KAAR,CAAcC,WAAd,GAA4BC,QAA5B,CAAqCR,UAAU,CAACO,WAAX,EAArC,CAA3B,CAAzB;IACAnB,eAAe,CAACe,gBAAD,CAAf;IACAb,OAAO,CAAC,CAAD,CAAP;EACD,CALD;;EASA,IAAIT,KAAJ,EAAW;IACT,oBAAO;MAAK,SAAS,EAAC,qBAAf;MAAA,UAAsCA;IAAtC;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,oBACE;IAAA,UACID,QAAQ,iBACN;MAAK,SAAS,EAAC,WAAf;MAAA,uBACE;QAAK,SAAS,EAAC,qBAAf;QAAA,wBACE;UAAK,SAAS,EAAC,6EAAf;UAAA,wBAEE,QAAC,aAAD;YACE,OAAO,EAAE,aADX;YAEE,IAAI,EAAE;UAFR;YAAA;YAAA;YAAA;UAAA,QAFF,eAOE,QAAC,MAAD;YACE,YAAY,EAAEkB;UADhB;YAAA;YAAA;YAAA;UAAA,QAPF;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAaE;UAAK,SAAS,EAAC,WAAf;UAAA,UACGlB,QAAQ,CAACe,MAAT,gBACC;YAAA,wBACE,QAAC,aAAD;cAAe,eAAe,EAAEC;YAAhC;cAAA;cAAA;cAAA;YAAA,QADF,eAEE,QAAC,UAAD;cAAY,IAAI,EAAEP,IAAlB;cAAwB,OAAO,EAAEC,OAAjC;cAA0C,KAAK,EAAEI,SAAjD;cAA4D,KAAK,EAAEH;YAAnE;cAAA;cAAA;cAAA;YAAA,QAFF;UAAA,gBADD,GAKG;QANN;UAAA;UAAA;UAAA;QAAA,QAbF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EAFN,iBADF;AA+BD,CA9ED;;GAAMb,Q;UACaP,W,EAEWC,W;;;KAHxBM,Q;AAgFN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}