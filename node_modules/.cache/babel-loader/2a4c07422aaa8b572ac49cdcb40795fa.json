{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\New folder (2)\\\\New folder\\\\src\\\\Pages\\\\Frontend\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, Navigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { BASE_URL } from '../../Api/api';\nimport { login } from '../../App/features/customerAuthSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    isLogedIn\n  } = useSelector(state => state.customerAuth);\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = loginData;\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setLoginData(prev => ({ ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(`${BASE_URL}/customers`).then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      } else {\n        return res.json();\n      }\n    }).then(data => {\n      const userInfo = data.find(data => data.email === email);\n\n      if (userInfo) {\n        if (userInfo.email === email && userInfo.password !== password) {\n          toast.dismiss();\n          toast.error('email & password don\\'t match');\n        } else if (userInfo.email === email && userInfo.password === password && userInfo.status !== 'active') {\n          toast.dismiss();\n          toast.error('Your account is blocked please contact authority');\n        } else if (userInfo.email === email && userInfo.password === password && userInfo.status === 'active') {\n          dispatch(login(userInfo));\n        }\n      } else {\n        toast.dismiss();\n        toast.error('no user is registered with this email');\n      }\n    }).catch(err => console.log(err));\n  };\n\n  const dummyLogin = () => {\n    const dummyEmail = 'guest@dummy.com';\n    fetch(`${BASE_URL}/customers`).then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      } else {\n        return res.json();\n      }\n    }).then(data => {\n      const userInfo = data.find(data => data.email === dummyEmail);\n\n      if (userInfo) {\n        dispatch(login(userInfo));\n      }\n    }).catch(err => console.log(err));\n  };\n\n  if (isLogedIn) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: '/'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 16\n    }, this);\n  } else if (isLogedIn === false) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center py-4 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow-lg border-0 rounded-lg mt-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-center font-weight-light my-2\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3 mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email\",\n                  className: \"form-label\",\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"email\",\n                  className: \"form-control\",\n                  type: \"email\",\n                  placeholder: \"Enter email\",\n                  name: \"email\",\n                  value: loginData.email,\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 39\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 35\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"pwd\",\n                  className: \"form-label\",\n                  children: \"Password:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"pwd\",\n                  className: \"form-control\",\n                  type: \"password\",\n                  placeholder: \"Enter password\",\n                  name: \"password\",\n                  value: loginData.password,\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 39\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 35\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-lg btn-primary px-4 py-2\",\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 3\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"don't have a account? \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: '/signup',\n                  children: \"Create Account\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 39\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }, this);\n  }\n};\n\n_s(Login, \"WVPW+SJlEjpL7S7CnhgTSLvdxFM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Link","Navigate","toast","BASE_URL","login","Login","dispatch","isLogedIn","state","customerAuth","loginData","setLoginData","email","password","handleChange","e","name","target","value","prev","handleSubmit","preventDefault","fetch","then","res","ok","Error","status","json","data","userInfo","find","dismiss","error","catch","err","console","log","dummyLogin","dummyEmail"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder (2)/New folder/src/Pages/Frontend/Login.js"],"sourcesContent":["import React from 'react'\nimport { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, Navigate } from 'react-router-dom'\nimport { toast } from 'react-toastify'\nimport { BASE_URL } from '../../Api/api'\nimport { login } from '../../App/features/customerAuthSlice'\n\nconst Login = () => {\n\n    const dispatch = useDispatch()\n    const { isLogedIn } = useSelector(state => state.customerAuth)\n\n    const [ loginData, setLoginData ] = useState({email: '', password: ''})\n    const { email, password } = loginData;\n\n    const handleChange = (e) => {\n        const name = e.target.name\n        const value = e.target.value\n\n        setLoginData(prev => ({...prev, [name]: value}))\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        fetch(`${BASE_URL}/customers`)\n        .then(res => {\n            if (!res.ok){\n                throw new Error(res.status)\n            } else {\n                return res.json()\n            }\n        })\n        .then (data => {\n            const userInfo = data.find(data => data.email === email)\n\n            if(userInfo) {\n\n                if( userInfo.email === email && userInfo.password !== password ) {\n                    toast.dismiss()\n                    toast.error('email & password don\\'t match')\n                } else if (userInfo.email === email && userInfo.password === password && userInfo.status !== 'active'){\n                    toast.dismiss()\n                    toast.error('Your account is blocked please contact authority')\n                } else if ( userInfo.email === email && userInfo.password === password && userInfo.status === 'active' ) {\n                    dispatch(login(userInfo))\n                }\n                \n            } else {\n                toast.dismiss()\n                toast.error('no user is registered with this email')\n            }\n        })\n        .catch(err => console.log(err))\n    }\n\n    const dummyLogin = () => {\n        \n        const dummyEmail = 'guest@dummy.com';\n\n        fetch(`${BASE_URL}/customers`)\n        .then(res => {\n            if (!res.ok){\n                throw new Error(res.status)\n            } else {\n                return res.json()\n            }\n        })\n        .then (data => {\n            const userInfo = data.find(data => data.email === dummyEmail)\n\n            if(userInfo) {\n                dispatch(login(userInfo))\n            }\n        })\n        .catch(err => console.log(err))\n    }\n\n    if (isLogedIn){\n        return <Navigate to={'/'} />\n    } else if (isLogedIn === false){\n        return (\n      \n          <div className=\"bg-white\">\n              <div className=\"d-flex justify-content-center py-4 mb-4\">\n                      <div className=\"card shadow-lg border-0 rounded-lg mt-5\">\n                          <div className=\"card-body\">\n                              <h3 className=\"text-center font-weight-light my-2\">Login</h3>\n                              <form onSubmit={handleSubmit}>\n                                  <div className=\"mb-3 mt-1\">\n                                      <label htmlFor=\"email\" className=\"form-label\">Email:</label>\n                                      <input\n                                       id=\"email\" \n                                       className=\"form-control\" \n                                       type=\"email\" \n                                       placeholder=\"Enter email\"\n                                       name=\"email\" \n                                       value={loginData.email}\n                                       onChange={handleChange}\n                                       required\n                                      />\n                                  </div>\n                                  <div className=\"mb-3\">\n                                      <label htmlFor=\"pwd\" className=\"form-label\">Password:</label>\n                                      <input\n                                       id=\"pwd\" \n                                       className=\"form-control\" \n                                       type=\"password\" \n                                       placeholder=\"Enter password\" \n                                       name=\"password\" \n                                       value={loginData.password}\n                                       onChange={handleChange}\n                                       required\n                                      />\n                                  </div>\n                                  <div className=\"d-flex justify-content-center\">\n  <button type=\"submit\" className=\"btn btn-lg btn-primary px-4 py-2\">\n    Submit\n  </button>\n</div>\n\n                             \n                              </form>\n                              <div className='mt-3 text-center'>\n                                <span>don't have a account? </span>\n                                <span><Link to={'/signup'}>Create Account</Link></span>\n                              </div>\n                          </div>\n                      </div>\n              </div>\n          </div>\n        )\n    }\n\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}