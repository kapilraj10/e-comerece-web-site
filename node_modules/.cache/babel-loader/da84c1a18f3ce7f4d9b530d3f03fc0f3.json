{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\New folder (2)\\\\New folder\\\\src\\\\Pages\\\\Admin\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { BASE_URL } from '../../Api/api';\nimport { login } from '../../App/features/adminAuthSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    isLogedIn\n  } = useSelector(state => state.adminAuth);\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = loginData;\n\n  const handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setLoginData(prev => ({ ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(`${BASE_URL}/users`).then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      } else {\n        return res.json();\n      }\n    }).then(data => {\n      const userInfo = data.find(data => data.email === email);\n\n      if (userInfo) {\n        if (userInfo.email === email && userInfo.password !== password) {\n          toast.dismiss();\n          toast.error('email & password don\\'t match');\n        } else if (userInfo.email === email && userInfo.password === password && userInfo.status !== 'active') {\n          toast.dismiss();\n          toast.error('Your account is deactivated by super admin');\n        } else if (userInfo.email === email && userInfo.password === password && userInfo.status === 'active') {\n          dispatch(login(userInfo));\n        }\n      } else {\n        toast.dismiss();\n        toast.error('no user is registered with this email');\n      }\n    }).catch(err => console.log(err));\n  }; // const dummyLogin = () => {\n  //     const dummyEmail = 'guest@dummy.com';\n  //     fetch(`${BASE_URL}/users`)\n  //     .then(res => {\n  //         if (!res.ok){\n  //             throw new Error(res.status)\n  //         } else {\n  //             return res.json()\n  //         }\n  //     })\n  //     .then (data => {\n  //         const userInfo = data.find(data => data.email === dummyEmail)\n  //         if(userInfo) {\n  //             dispatch(login(userInfo))\n  //         }\n  //     })\n  //     .catch(err => console.log(err))\n  // }\n\n\n  if (isLogedIn) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: '/admin'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 16\n    }, this);\n  } else if (isLogedIn === false) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-fixed top-0 start-0 bottom-0 end-0 bg-light\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card shadow-lg border-0 rounded-lg mt-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-center font-weight-light\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"email\",\n                    className: \"form-label\",\n                    children: \"Email:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 39\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"email\",\n                    className: \"form-control\",\n                    type: \"email\",\n                    placeholder: \"Enter email\",\n                    name: \"email\",\n                    value: loginData.email,\n                    onChange: handleChange,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"pwd\",\n                    className: \"form-label\",\n                    children: \"Password:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 39\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"pwd\",\n                    className: \"form-control\",\n                    type: \"password\",\n                    placeholder: \"Enter password\",\n                    name: \"password\",\n                    value: loginData.password,\n                    onChange: handleChange,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-lg btn-primary px-2 py-2\",\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }, this);\n  }\n};\n\n_s(Login, \"WVPW+SJlEjpL7S7CnhgTSLvdxFM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Navigate","toast","BASE_URL","login","Login","dispatch","isLogedIn","state","adminAuth","loginData","setLoginData","email","password","handleChange","e","name","target","value","prev","handleSubmit","preventDefault","fetch","then","res","ok","Error","status","json","data","userInfo","find","dismiss","error","catch","err","console","log"],"sources":["C:/Users/DELL/OneDrive/Desktop/New folder (2)/New folder/src/Pages/Admin/Login.js"],"sourcesContent":["import React from 'react'\nimport { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Navigate } from 'react-router-dom'\nimport { toast } from 'react-toastify'\nimport { BASE_URL } from '../../Api/api'\nimport { login } from '../../App/features/adminAuthSlice'\n\nconst Login = () => {\n\n    const dispatch = useDispatch()\n    const { isLogedIn } = useSelector(state => state.adminAuth)\n\n    const [ loginData, setLoginData ] = useState({email: '', password: ''})\n    const { email, password } = loginData;\n\n    const handleChange = (e) => {\n        const name = e.target.name\n        const value = e.target.value\n\n        setLoginData(prev => ({...prev, [name]: value}))\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        fetch(`${BASE_URL}/users`)\n        .then(res => {\n            if (!res.ok){\n                throw new Error(res.status)\n            } else {\n                return res.json()\n            }\n        })\n        .then (data => {\n            const userInfo = data.find(data => data.email === email)\n\n            if(userInfo) {\n\n                if( userInfo.email === email && userInfo.password !== password ) {\n                    toast.dismiss()\n                    toast.error('email & password don\\'t match')\n                } else if (userInfo.email === email && userInfo.password === password && userInfo.status !== 'active'){\n                    toast.dismiss()\n                    toast.error('Your account is deactivated by super admin')\n                } else if ( userInfo.email === email && userInfo.password === password && userInfo.status === 'active' ) {\n                    dispatch(login(userInfo))\n                }\n                \n            } else {\n                toast.dismiss()\n                toast.error('no user is registered with this email')\n            }\n        })\n        .catch(err => console.log(err))\n    }\n\n    // const dummyLogin = () => {\n        \n    //     const dummyEmail = 'guest@dummy.com';\n\n    //     fetch(`${BASE_URL}/users`)\n    //     .then(res => {\n    //         if (!res.ok){\n    //             throw new Error(res.status)\n    //         } else {\n    //             return res.json()\n    //         }\n    //     })\n    //     .then (data => {\n    //         const userInfo = data.find(data => data.email === dummyEmail)\n\n    //         if(userInfo) {\n    //             dispatch(login(userInfo))\n    //         }\n    //     })\n    //     .catch(err => console.log(err))\n    // }\n\n    if (isLogedIn){\n        return <Navigate to={'/admin'} />\n    } else if (isLogedIn === false){\n        return (\n      \n          <div className=\"position-fixed top-0 start-0 bottom-0 end-0 bg-light\">\n              <div className=\"row justify-content-center p-4\">\n                  <div className=\"col-lg-5\">\n                      <div className=\"card shadow-lg border-0 rounded-lg mt-5\">\n                          <div className=\"card-header\">\n                              <h3 className=\"text-center font-weight-light\">Login</h3>\n                          </div>\n                          <div className=\"card-body\">\n                              <form onSubmit={handleSubmit}>\n                                  <div className=\"mb-3 mt-3\">\n                                      <label htmlFor=\"email\" className=\"form-label\">Email:</label>\n                                      <input\n                                       id=\"email\" \n                                       className=\"form-control\" \n                                       type=\"email\" \n                                       placeholder=\"Enter email\"\n                                       name=\"email\" \n                                       value={loginData.email}\n                                       onChange={handleChange}\n                                       required\n                                      />\n                                  </div>\n                                  <div className=\"mb-3\">\n                                      <label htmlFor=\"pwd\" className=\"form-label\">Password:</label>\n                                      <input\n                                       id=\"pwd\" \n                                       className=\"form-control\" \n                                       type=\"password\" \n                                       placeholder=\"Enter password\" \n                                       name=\"password\" \n                                       value={loginData.password}\n                                       onChange={handleChange}\n                                       required\n                                      />\n                                  </div>\n                                    <div className=\"d-flex justify-content-center\">\n                                        <button type=\"submit\" className=\"btn btn-lg btn-primary px-2 py-2\">\n                                            Submit\n                                        </button>\n                                    </div>\n                                  {/* <button\n                                    className='ms-3 btn btn-success'\n                                    type='button'\n                                    onClick={dummyLogin}\n                                  >\n                                    Dummy Login\n                                  </button> */}\n                              </form>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}